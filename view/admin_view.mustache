{{> header}}
<div class="cuadro admin-container">
    <div class="admin-row">
        <h1>Sección General</h1>
    </div>

    <div class="admin-row row-cards">
        <div class="admin-card ">
            <div
                class="w-72 bg-white max-w-xs rounded-sm overflow-hidden shadow-lg hover:shadow-2xl transition duration-500 transform hover:scale-100 cursor-pointer">
                <div class="h-20 bg-red-400 flex items-center justify-between">
                    <p class="mr-0 text-white text-lg pl-5">TOTAL USUARIOS</p>
                </div>
                <div class="flex justify-between px-5 pt-6 mb-2 text-sm text-gray-600">
                    <p>TOTAL</p>
                </div>
                <p class="py-4 text-3xl ml-5">{{totalUsuarios}}</p>
            </div>
        </div>

        <div class="admin-card  ">
            <div
                class="w-72 bg-white max-w-xs  rounded-sm overflow-hidden shadow-lg hover:shadow-2xl transition duration-500 transform hover:scale-100 cursor-pointer">
                <div class="h-20 bg-blue-500 flex items-center justify-between">
                    <p class="mr-0 text-white text-lg pl-5">TOTAL JUGADORES</p>
                </div>
                <div class="flex justify-between px-5 pt-6 mb-2 text-sm text-gray-600">
                    <p>TOTAL</p>
                </div>
                <p class="py-4 text-3xl ml-5">{{totalJugadores}}</p>
            </div>
        </div>

        <div class="admin-card ">
            <div
                class="w-72 bg-white max-w-xs rounded-sm overflow-hidden shadow-lg hover:shadow-2xl transition duration-500 transform hover:scale-100 cursor-pointer">
                <div class="h-20 bg-purple-400 flex items-center justify-between">
                    <p class="mr-0 text-white text-lg pl-5">TOTAL EDITORES</p>
                </div>
                <div class="flex justify-between pt-6 px-5 mb-2 text-sm text-gray-600">
                    <p>TOTAL</p>
                </div>
                <p class="py-4 text-3xl ml-5">{{totalEditores}}</p>
            </div>
        </div>

        <div class="admin-card">
            <div
                class="w-72 bg-white max-w-xs  rounded-sm overflow-hidden shadow-lg hover:shadow-2xl transition duration-500 transform hover:scale-100 cursor-pointer">
                <div class="h-20 bg-purple-900 flex items-center justify-between">
                    <p class="mr-0 text-white text-lg pl-5">TOTAL ADMIN</p>
                </div>
                <div class="flex justify-between pt-6 px-5 mb-2 text-sm text-gray-600">
                    <p>TOTAL</p>
                </div>
                <p class="py-4 text-3xl ml-5">{{totalAdministradores}}</p>
            </div>
        </div>
    </div>

    <div class="admin-row row-fecha">
        <input class="admin-fecha" type="date" id="date-input" placeholder="Seleccionar fecha" value="{{filterDate}}">
        <button id="filter-btn">Filtrar</button>
    </div>

    <div class="admin-row">
        <h1>Fecha: <span style="color: red"> {{filterDate}}</span></h1>
    </div>
    <div class="admin-row">
        <h1>Sección de Usuarios</h1>
    </div>

    <div class="admin-row grafico-row">
        <div class="grafico-container">
            <img class="cuadro-2" src="{{usuariosNuevosGrafico}}">
        </div>
        <div class="grafico-container">
            <img class="cuadro-2" src="{{generosGrafico}}">
        </div>
        <div class="grafico-container">
            <img class="cuadro-2" src="{{partidasGrafico}}">
        </div>
    </div>
    <!--GRAFICOS MIOS-->
    <div class="admin-row grafico-row">
        <div class="grafico-container">
            <img class="cuadro-2" src="{{paisesGrafico}}">
        </div>
        <div class="grafico-container">
            <img class="cuadro-2" src="{{edadGrafico}}">
        </div>
    </div>

    <div class="admin-row">
        <h1>Datos del Juego</h1>
    </div>

    <div class="admin-row row-cards">
        <div class="admin-card ">
            <div
                class="w-72 bg-white max-w-xs rounded-sm overflow-hidden shadow-lg hover:shadow-2xl transition duration-500 transform hover:scale-100 cursor-pointer">
                <div class="h-20 bg-purple-900 flex items-center justify-between">
                    <p class="mr-0 text-white text-lg pl-5">PREGUNTAS</p>
                </div>
                <div class="flex justify-between px-5 pt-6 mb-2 text-sm text-gray-600">
                    <p>TOTAL</p>
                </div>
                <p class="py-4 text-3xl ml-5">{{cantidadPreguntas}}</p>
            </div>
        </div>
        <div class="admin-card  ">
            <div
                class="w-72 bg-white max-w-xs  rounded-sm overflow-hidden shadow-lg hover:shadow-2xl transition duration-500 transform hover:scale-100 cursor-pointer">
                <div class="h-20 bg-purple-300 flex items-center justify-between">
                    <p class="mr-0 text-white text-lg pl-5">ACIERTOS TOTALES</p>
                </div>
                <div class="flex justify-between px-5 pt-6 mb-2 text-sm text-gray-600">
                    <p>TOTAL</p>
                </div>
                <p class="py-4 text-3xl ml-5">{{porcentajePreguntasAcertadas}}%</p>
            </div>
        </div>
        <div class="admin-card ">
            <div
                class="w-72 bg-white max-w-xs rounded-sm overflow-hidden shadow-lg hover:shadow-2xl transition duration-500 transform hover:scale-100 cursor-pointer">
                <div class="h-20 bg-blue-400 flex items-center justify-between">
                    <p class="mr-0 text-white text-lg pl-5">JUGARON +1 VEZ</p>
                </div>
                <div class="flex justify-between pt-6 px-5 mb-2 text-sm text-gray-600">
                    <p>TOTAL</p>
                </div>
                <p class="py-4 text-3xl ml-5">{{totalJugadoresConAlMenosUnaPartida}}</p>
            </div>
        </div>
        <div class="admin-card">
            <div
                class="w-72 bg-white max-w-xs  rounded-sm overflow-hidden shadow-lg hover:shadow-2xl transition duration-500 transform hover:scale-100 cursor-pointer">
                <div class="h-20 bg-red-900 flex items-center justify-between">
                    <p class="mr-0 text-white text-lg pl-5">TOTAL PARTIDAS<br></p>
                </div>
                <div class="flex justify-between pt-6 px-5 mb-2 text-sm text-gray-600">
                    <p>TOTAL</p>
                </div>
                <p class="py-4 text-3xl ml-5">{{cantidadPartidasJugadas}}</p>
            </div>
        </div>
    </div>

    <div class="admin-row row-cards">
        <div class="admin-card">
            <div
                    class="w-72 bg-white max-w-xs rounded-sm overflow-hidden shadow-lg hover:shadow-2xl transition duration-500 transform hover:scale-100 cursor-pointer">
                <div class="h-20 bg-purple-900 flex items-center justify-between">
                    <p class="mr-0 text-white text-lg pl-5">BALANCE DE TRAMPITAS X USUARIO</p>
                </div>
                <div class="flex justify-between px-5 pt-6 mb-2 text-sm text-gray-600">
                    <p>TOTAL</p>
                </div>
                <p class="py-4 text-3xl ml-5">{{balanceTrampitas}}</p>
            </div>
        </div>
        <div class="admin-card  ">
            <div
                    class="w-72 bg-white max-w-xs  rounded-sm overflow-hidden shadow-lg hover:shadow-2xl transition duration-500 transform hover:scale-100 cursor-pointer">
                <div class="h-20 bg-purple-300 flex items-center justify-between">
                    <p class="mr-0 text-white text-lg pl-5">DINERO GANADO CON TRAMPITAS</p>
                </div>
                <div class="flex justify-between px-5 pt-6 mb-2 text-sm text-gray-600">
                    <p>TOTAL</p>
                </div>
                <p class="py-4 text-3xl ml-5">{{cantidadTrampitas}}$</p>
            </div>
        </div>
        <div class="admin-card ">
            <div
                    class="w-72 bg-white max-w-xs rounded-sm overflow-hidden shadow-lg hover:shadow-2xl transition duration-500 transform hover:scale-100 cursor-pointer">
                <div class="h-20 bg-blue-400 flex items-center justify-between">
                    <p class="mr-0 text-white text-lg pl-5">USUARIOS NUEVOS DESDE LA FECHA</p>
                </div>
                <div class="flex justify-between pt-6 px-5 mb-2 text-sm text-gray-600">
                    <p>TOTAL</p>
                </div>
                <p class="py-4 text-3xl ml-5">{{cantidadUsuariosNuevosDesdeFecha}}</p>
            </div>
        </div>
        <div class="admin-card">
            <div
                    class="w-72 bg-white max-w-xs  rounded-sm overflow-hidden shadow-lg hover:shadow-2xl transition duration-500 transform hover:scale-100 cursor-pointer">
                <div class="h-20 bg-red-900 flex items-center justify-between">
                    <p class="mr-0 text-white text-lg pl-5">PORCENTAJE DE ACIERTOS POR USUARIO</p>
                </div>
                <div class="flex justify-between pt-6 px-5 mb-2 text-sm text-gray-600">
                    <p>TOTAL</p>
                </div>
                <p class="py-4 text-3xl ml-5">{{porcentajePreguntasAcertadasPorUsuario}}%</p>
            </div>
        </div>
    </div>

    <div class="admin-row">
        <a href="/admin/generarPDF" class="bg-violet-600 hover:bg-violet-200 p-5 m-5 md:text-2xl text-lg text-center text-white font-bold rounded-lg">Generar pdf</a>
    </div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        var filterButton = document.getElementById("filter-btn");
        filterButton.addEventListener("click", function() {

            var dateInput = document.getElementById("date-input");
            var selectedDate = dateInput.value;

            if (selectedDate !== "") {
                var currentDate = new Date();
                var selectedDateObj = new Date(selectedDate);

                var currentDateValue = currentDate.getTime();
                var selectedDateValue = selectedDateObj.getTime();

                if (selectedDateValue > currentDateValue) {
                    alert("La fecha seleccionada no puede ser mayor a la fecha actual.");
                } else {
                    window.location.href = window.location.pathname + "?filter_date=" + selectedDate;
                }
            } else {
                alert("Por favor, selecciona una fecha");
            }
        });
    });
</script>
